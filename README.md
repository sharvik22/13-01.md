# Домашнее задание к занятию «Уязвимости и атаки на информационные системы» Шарапат Виктор

### Задание 1

Скачайте и установите виртуальную машину Metasploitable: https://sourceforge.net/projects/metasploitable/.

Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.

Просканируйте эту виртуальную машину, используя **nmap**.

Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.

Сами уязвимости можно поискать на сайте https://www.exploit-db.com/.

Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.

Ответьте на следующие вопросы:

- Какие сетевые службы в ней разрешены?
- Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)
  
*Приведите ответ в свободной форме.*  


### Решение 1
VM Metasploitable

![image](https://github.com/sharvik22/13-01.md/assets/136818757/62c1fabd-b79b-4551-b3b9-e2ea9b375e0e)

Просканируйте эту виртуальную машину, используя **nmap**

![image](https://github.com/sharvik22/13-01.md/assets/136818757/984d4ed6-968c-49d3-a647-028753997c2e)

Ответьте на следующие вопросы:
1) Какие сетевые службы в ней разрешены?
2) Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)
   
Ответ

1) nmap -sT 192.168.1.14
перечень сетевых служб:

![image](https://github.com/sharvik22/13-01.md/assets/136818757/13c9b08a-fb65-45aa-9444-4998d28ef8c5)

2) список уязвимостей:

По версии уязвимости сетевой службы есть только одна служба

https://www.exploit-db.com/exploits/49757

  

---


### Задание 2

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.

Запишите сеансы сканирования в Wireshark.

Ответьте на следующие вопросы:

- Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?
- Как отвечает сервер?

*Приведите ответ в свободной форме.*

### Решение 2

Команды для сканирования:

* nmap -sS 192.168.1.14  # SYN сканирование

![image](https://github.com/sharvik22/13-01.md/assets/136818757/29dcee03-5399-4006-bc5c-96f5fe79d51a)

![image](https://github.com/sharvik22/13-01.md/assets/136818757/b9935d2b-c79c-4559-a8da-09e7e353d0dc)

При SYN сканировании nmap отправляет SYN пакеты на хост, если хост отвечает флагом SYN/ACK, это означает, что порт открыт, если RST, то порт закрыт (сброс соединения).

Если после нескольких запросов не приходит никакого ответа, то порт помечается как фильтруемый.
Это наиболее популярный тип сканирования. Он может быть быстро запущен, он способен сканировать тысячи портов в секунду при быстром соединении, его работе не препятствуют ограничивающие бранмауэры.
При таком сканировании TCP соединение никогда не устанавливается до конца. 

---

* nmap -sF 192.168.1.14  # FIN сканирование

![image](https://github.com/sharvik22/13-01.md/assets/136818757/d168f568-2c32-43b4-b76f-23d6680c7f6f)

![image](https://github.com/sharvik22/13-01.md/assets/136818757/70dcc1b1-dcf4-4bae-9eef-c58b4763dcbe)

При FIN сканировании nmap отправляет FIN пакеты на хоста. Если хост отвечает флагом FIN, это означает, что порт открыт. Если RST, то закрытый порт.

Ключевой особенностью является способность незаметно обойти некоторые не учитывающие состояние (non-stateful) брандмауэры и роутеры с функцией пакетной фильтрации.
Чуть более незаметны, чем SYN сканирование. К недостатку можно отнести неспособность разделять порты на открытые и фильтруемые, т.к. порт помечается как открыт|фильтруется.

---

* nmap -sX 192.168.1.14  # Xmas сканирование

![image](https://github.com/sharvik22/13-01.md/assets/136818757/c6cf3688-60a8-4b85-a835-695366440fd6)

- При Xmas сканировании nmap устанавливает флаги FIN, PSH и URG. Если устройство не отвечает, то порт открыт. Если RST, то закрыт.


* nmap -sU 192.168.1.14  # UDP сканирование

![image](https://github.com/sharvik22/13-01.md/assets/136818757/f34187aa-6904-47ed-927a-009c355e70b0)

При UDP сканировании nmap отправляет пустой UDP пакет.Если ответ ICMP сообщением "Port Unreachable", это порт закрыт. Другие ICMP ошибки указывают на то, что порт фильтруется. Если не отвечает или UDP, это может указать на открытый порт.

UDP сканирование медленнее чем остальные.
Открытые и фильтруемые порты редко посылают какие-либо ответы, заставляя Nmap отправлять повторные запросы, на случай если пакеты были утеряны. 

---
